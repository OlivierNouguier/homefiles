#!/usr/bin/env perl6

use strict;
use Text::Template ;



sub MAIN ($name, Str :$scalaVersion = "2.11.8", Str :$organization, Bool :$circe)
{

    say qq:to/END/;
name := $name

organization := "$organization"

scalVersion := "$scalaVersion"

licenses += ("Apache-2.0", url("http://opensource.org/licenses/Apache-2.0"))

javacOptions ++= Seq("-source", "1.8", "-target", "1.8", "-Xlint", "-Xlog-implicits")

scalacOptions := Seq("-deprecation", "-feature", "-language:postfixOps")

libraryDependencies += "org.slf4j" % "slf4j-api" % "1.7.6"

libraryDependencies += "org.slf4j" % "log4j-over-slf4j" % "1.7.6"
END

say 'val circeVersion = "0.5.0-M2"' if $circe;


say qq:to/END/;
libraryDependencies += "org.scalatest" %% "scalatest" % "2.2.6" % "test"

libraryDependencies += "ch.qos.logback" % "logback-classic" % "1.1.3" % "test"

END

my $tmp = qq:to/END/;
val zookeeperVersion = "3.4.8"
val akkaVersion = "2.4.7"
val circeVersion = "0.5.0-M2"

libraryDependencies += "org.slf4j" % "slf4j-api" % "1.7.6"

libraryDependencies += "org.slf4j" % "log4j-over-slf4j" % "1.7.6"

libraryDependencies += "org.typelevel" %% "cats" % "0.6.0"

libraryDependencies ++= Seq("circe-core",
  "circe-generic",
  "circe-parser").map("io.circe" %% _ % circeVersion)

libraryDependencies += "org.apache.zookeeper" % "zookeeper" % zookeeperVersion exclude("org.apache", "log4j")  exclude("log4j", "log4j") exclude("org.slf4j", "slf4j-log4j12") artifacts(Artifact(""))


END

    
    
    
}
